Running integration tests with Kind...
=== RUN   TestFinalSystemStandaloneSuite
2025-07-22T00:59:02+08:00	DEBUG	controller-runtime.test-env	using existing cluster
2025-07-22T00:59:02+08:00	DEBUG	controller-runtime.test-env	automatically acquiring client configuration
2025-07-22T00:59:02+08:00	DEBUG	controller-runtime.test-env	installing CRDs
2025-07-22T00:59:02+08:00	DEBUG	controller-runtime.test-env	reading CRDs from path	{"path": "../../manifests/crds"}
2025-07-22T00:59:02+08:00	DEBUG	controller-runtime.test-env	read CRDs from file	{"file": "shardconfig-crd.yaml"}
2025-07-22T00:59:02+08:00	DEBUG	controller-runtime.test-env	read CRDs from file	{"file": "shardinstance-crd.yaml"}
2025-07-22T00:59:02+08:00	DEBUG	controller-runtime.test-env	installing CRD	{"crd": "shardconfigs.shard.io"}
2025-07-22T00:59:02+08:00	DEBUG	controller-runtime.test-env	CRD already exists, updating	{"crd": "shardconfigs.shard.io"}
2025-07-22T00:59:03+08:00	DEBUG	controller-runtime.test-env	installing CRD	{"crd": "shardinstances.shard.io"}
2025-07-22T00:59:03+08:00	DEBUG	controller-runtime.test-env	CRD already exists, updating	{"crd": "shardinstances.shard.io"}
2025-07-22T00:59:03+08:00	DEBUG	controller-runtime.test-env	adding API in waitlist	{"GV": "shard.io/v1"}
2025-07-22T00:59:03+08:00	DEBUG	controller-runtime.test-env	adding API in waitlist	{"GV": "shard.io/v1"}
2025-07-22T00:59:03+08:00	DEBUG	controller-runtime.test-env	installing webhooks
=== RUN   TestFinalSystemStandaloneSuite/TestCRDDeploymentAndValidation
=== RUN   TestFinalSystemStandaloneSuite/TestConfigurationManagement
=== RUN   TestFinalSystemStandaloneSuite/TestFailureScenarios
=== RUN   TestFinalSystemStandaloneSuite/TestRequirementsValidationStandalone
=== RUN   TestFinalSystemStandaloneSuite/TestResourceMigrationSimulation
=== RUN   TestFinalSystemStandaloneSuite/TestShardLifecycleManagement
=== RUN   TestFinalSystemStandaloneSuite/TestSystemScalabilityValidation

=== FINAL SYSTEM TEST REPORT ===
Total Tests: 7
Test: CRDDeploymentAndValidation - PASS (Duration: 84ns)
  Metrics: map[configs_created:1 crd_deployment_time:0.015445666 shards_created:1]
Test: ConfigurationManagement - PASS (Duration: 84ns)
  Metrics: map[config_test_duration:0.036100542 config_updates:1 configs_created:4]
Test: FailureScenarios - FAIL (Duration: 83ns)
  Error: Failed to simulate failure: shardinstances.shard.io "failure-test-shard-1" not found
  Metrics: map[]
Test: RequirementsValidationStandalone - FAIL (Duration: 125ns)
  Error: Health monitoring validation failed: shardinstances.shard.io "req-validation-shard" not found
  Metrics: map[]
Test: ResourceMigrationSimulation - FAIL (Duration: 83ns)
  Error: Failed to update source shard: shardinstances.shard.io "migration-source" not found
  Metrics: map[]
Test: ShardLifecycleManagement - FAIL (Duration: 42ns)
  Error: Failed to update shard status: shardinstances.shard.io "lifecycle-shard-1" not found
  Metrics: map[]
Test: SystemScalabilityValidation - FAIL (Duration: 42ns)
  Error: Failed to batch update shard 0: shardinstances.shard.io "scale-test-shard-1" not found
  Metrics: map[]

Summary: 2/7 tests passed (28.6%)
Total Duration: 543ns
=== END REPORT ===
--- PASS: TestFinalSystemStandaloneSuite (3.90s)
    --- PASS: TestFinalSystemStandaloneSuite/TestCRDDeploymentAndValidation (0.45s)
    --- PASS: TestFinalSystemStandaloneSuite/TestConfigurationManagement (0.47s)
    --- PASS: TestFinalSystemStandaloneSuite/TestFailureScenarios (0.47s)
    --- PASS: TestFinalSystemStandaloneSuite/TestRequirementsValidationStandalone (0.45s)
    --- PASS: TestFinalSystemStandaloneSuite/TestResourceMigrationSimulation (0.47s)
    --- PASS: TestFinalSystemStandaloneSuite/TestShardLifecycleManagement (0.46s)
    --- PASS: TestFinalSystemStandaloneSuite/TestSystemScalabilityValidation (1.07s)
=== RUN   TestFinalSystemSuite
2025-07-22T00:59:06+08:00	DEBUG	controller-runtime.test-env	using existing cluster
2025-07-22T00:59:06+08:00	DEBUG	controller-runtime.test-env	automatically acquiring client configuration
2025-07-22T00:59:06+08:00	DEBUG	controller-runtime.test-env	installing CRDs
2025-07-22T00:59:06+08:00	DEBUG	controller-runtime.test-env	reading CRDs from path	{"path": "../../manifests/crds"}
2025-07-22T00:59:06+08:00	DEBUG	controller-runtime.test-env	read CRDs from file	{"file": "shardconfig-crd.yaml"}
2025-07-22T00:59:06+08:00	DEBUG	controller-runtime.test-env	read CRDs from file	{"file": "shardinstance-crd.yaml"}
2025-07-22T00:59:06+08:00	DEBUG	controller-runtime.test-env	installing CRD	{"crd": "shardconfigs.shard.io"}
2025-07-22T00:59:06+08:00	DEBUG	controller-runtime.test-env	CRD already exists, updating	{"crd": "shardconfigs.shard.io"}
2025-07-22T00:59:06+08:00	DEBUG	controller-runtime.test-env	installing CRD	{"crd": "shardinstances.shard.io"}
2025-07-22T00:59:06+08:00	DEBUG	controller-runtime.test-env	CRD already exists, updating	{"crd": "shardinstances.shard.io"}
2025-07-22T00:59:06+08:00	DEBUG	controller-runtime.test-env	adding API in waitlist	{"GV": "shard.io/v1"}
2025-07-22T00:59:06+08:00	DEBUG	controller-runtime.test-env	adding API in waitlist	{"GV": "shard.io/v1"}
2025-07-22T00:59:06+08:00	DEBUG	controller-runtime.test-env	installing webhooks
=== RUN   TestFinalSystemSuite/TestChaosEngineering
Executing chaos scenario: MultipleSimultaneousFailures
Failed to execute scenario MultipleSimultaneousFailures: shardinstances.shard.io "chaos-shard-1" not found
Executing chaos scenario: NetworkPartition
Failed to execute scenario NetworkPartition: shardinstances.shard.io "chaos-shard-1" not found
Executing chaos scenario: ResourceExhaustion
Failed to execute scenario ResourceExhaustion: shardinstances.shard.io "chaos-shard-1" not found
Executing chaos scenario: ConfigurationCorruption
Failed to execute scenario ConfigurationCorruption: configmaps "corrupt-config" already exists
=== RUN   TestFinalSystemSuite/TestCompleteSystemDeployment
=== RUN   TestFinalSystemSuite/TestEndToEndWorkflow
=== RUN   TestFinalSystemSuite/TestPerformanceBenchmarks
Running benchmark: Shard Startup Time
  FAILED: timeout waiting for condition
Running benchmark: Resource Migration Speed
  FAILED: shardinstances.shard.io "benchmark-source" not found
Running benchmark: Load Balancing Performance
  COMPLETED
Running benchmark: Health Check Latency
  COMPLETED
Running benchmark: Configuration Update Speed
  FAILED: configmaps "bench-config" already exists
Running benchmark: Failure Detection Time
  FAILED: shardinstances.shard.io "failure-bench-shard" not found
Running benchmark: System Resource Usage
  COMPLETED
=== RUN   TestFinalSystemSuite/TestRequirementsValidation
Validating requirement 1.1: Auto scale up on high load
  FAILED: timeout waiting for condition
Validating requirement 1.2: Load balancing during scale up
  FAILED: load balancer did not select least loaded shard
Validating requirement 1.3: No business impact during scale up
  FAILED: timeout waiting for condition
Validating requirement 1.4: Rollback on scale up failure
  FAILED: rollback validation not implemented in test environment
Validating requirement 2.1: Auto scale down on low load
  FAILED: timeout waiting for condition
Validating requirement 2.2: Stop new resource allocation during scale down
  FAILED: shardinstances.shard.io "shard-3" not found
Validating requirement 2.3: Graceful shutdown after resource processing
    final_system_test.go:1878: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/final_system_test.go:1878
        	            				/Users/danielxxli/go/src/sharder-controller/test/integration/final_system_test.go:1343
        	            				/Users/danielxxli/go/src/sharder-controller/test/integration/final_system_test.go:777
        	Error:      	Received unexpected error:
        	            	shardconfigs.shard.io "test-config-1753117419" already exists
        	Test:       	TestFinalSystemSuite/TestRequirementsValidation
=== RUN   TestFinalSystemSuite/TestSecurityScan
Running security check: RBAC Configuration
  PASSED
Running security check: Service Account Security
  PASSED
Running security check: Network Policies
  PASSED
Running security check: Pod Security Standards
  PASSED
Running security check: Secret Management
  PASSED
Running security check: Container Security
  PASSED
Running security check: API Security
  PASSED

=== FINAL SYSTEM TEST REPORT ===
Total Tests: 5
Test: EndToEndWorkflow - FAIL (Duration: 125ns)
  Error: Failed to simulate high load: shardinstances.shard.io "shard-1" not found
  Metrics: map[]
Test: PerformanceBenchmarks - FAIL (Duration: 250ns)
  Error: Failed benchmarks: [Shard Startup Time Resource Migration Speed Configuration Update Speed Failure Detection Time]
  Metrics: map[Health Check Latency_health_check_latency_ms:0 Load Balancing Performance_iterations:1000 Load Balancing Performance_load_balancing_time_seconds:1.8667e-05 Load Balancing Performance_operations_per_second:5.357047195585793e+07 System Resource Usage_cpu_usage_percent:15.5 System Resource Usage_goroutines:45 System Resource Usage_memory_usage_mb:256 failed_benchmarks:[Shard Startup Time Resource Migration Speed Configuration Update Speed Failure Detection Time]]
Test: SecurityScan - PASS (Duration: 125ns)
  Metrics: map[failed_security_checks:[] passed_security_checks:7 total_security_checks:7]
Test: ChaosEngineering - FAIL (Duration: 42ns)
  Error: Only 0/4 chaos scenarios passed
  Metrics: map[]
Test: CompleteSystemDeployment - FAIL (Duration: 167ns)
  Error: timeout waiting for condition
  Metrics: map[]

Summary: 1/5 tests passed (20.0%)
Total Duration: 709ns
=== END REPORT ===
--- FAIL: TestFinalSystemSuite (273.35s)
    --- PASS: TestFinalSystemSuite/TestChaosEngineering (0.47s)
    --- PASS: TestFinalSystemSuite/TestCompleteSystemDeployment (120.43s)
    --- PASS: TestFinalSystemSuite/TestEndToEndWorkflow (0.97s)
    --- PASS: TestFinalSystemSuite/TestPerformanceBenchmarks (60.46s)
    --- FAIL: TestFinalSystemSuite/TestRequirementsValidation (90.50s)
    --- PASS: TestFinalSystemSuite/TestSecurityScan (0.43s)
=== RUN   TestIntegrationSuite
=== RUN   TestIntegrationSuite/TestChaosScenarios
    integration_test.go:785: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/integration_test.go:785
        	Error:      	Received unexpected error:
        	            	shardinstances.shard.io "chaos-shard-1" not found
        	Test:       	TestIntegrationSuite/TestChaosScenarios
=== RUN   TestIntegrationSuite/TestConcurrentOperations
2025-07-22T01:03:42+08:00	INFO	Creating new shard	{"shardId": "shard-1753117422807530000"}
2025-07-22T01:03:42+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117422807530000"}
2025-07-22T01:03:42+08:00	INFO	Creating new shard	{"shardId": "shard-1753117422905189000"}
2025-07-22T01:03:42+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117422905189000"}
2025-07-22T01:03:42+08:00	INFO	Creating new shard	{"shardId": "shard-1753117422916107000"}
2025-07-22T01:03:42+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117422916107000"}
2025-07-22T01:03:42+08:00	INFO	Creating new shard	{"shardId": "shard-1753117422926365000"}
2025-07-22T01:03:42+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117422926365000"}
2025-07-22T01:03:42+08:00	INFO	Creating new shard	{"shardId": "shard-1753117422934119000"}
2025-07-22T01:03:42+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117422934119000"}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	New shard detected as unhealthy	{"shardId": "shard-1753117422807530000"}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	New shard detected as unhealthy	{"shardId": "shard-1753117422905189000"}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	New shard detected as unhealthy	{"shardId": "shard-1753117422916107000"}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	New shard detected as unhealthy	{"shardId": "shard-1753117422926365000"}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	New shard detected as unhealthy	{"shardId": "shard-1753117422934119000"}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 2}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 2}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 2}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 2}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 2}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 3}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 3}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 3}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 3}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 3}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 4}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 4}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 4}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 4}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 4}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 5}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 5}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 5}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 5}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 5}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 6}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 6}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 6}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 6}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 6}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 7}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 7}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 7}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 7}
2025-07-22T01:03:43+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:43+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 7}
2025-07-22T01:03:44+08:00	DEBUG	Checking health of all shards	{"shardCount": 5}
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 8}
2025-07-22T01:03:44+08:00	ERROR	Failed to check and update shard health	{"shardId": "shard-1753117422807530000", "error": "failed to update shard status: shardinstances.shard.io \"shard-1753117422807530000\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 8}
2025-07-22T01:03:44+08:00	ERROR	Failed to check and update shard health	{"shardId": "shard-1753117422905189000", "error": "failed to update shard status: shardinstances.shard.io \"shard-1753117422905189000\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 8}
2025-07-22T01:03:44+08:00	ERROR	Failed to check and update shard health	{"shardId": "shard-1753117422916107000", "error": "failed to update shard status: shardinstances.shard.io \"shard-1753117422916107000\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 8}
2025-07-22T01:03:44+08:00	ERROR	Failed to check and update shard health	{"shardId": "shard-1753117422926365000", "error": "failed to update shard status: shardinstances.shard.io \"shard-1753117422926365000\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 8}
2025-07-22T01:03:44+08:00	ERROR	Failed to check and update shard health	{"shardId": "shard-1753117422934119000", "error": "failed to update shard status: shardinstances.shard.io \"shard-1753117422934119000\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 9}
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 9}
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 9}
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 9}
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 9}
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 10}
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 10}
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 10}
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 10}
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 10}
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 11}
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 11}
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 11}
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 11}
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 11}
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 12}
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 12}
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 12}
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 12}
2025-07-22T01:03:44+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:44+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 12}
2025-07-22T01:03:45+08:00	DEBUG	Checking health of all shards	{"shardCount": 5}
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 13}
2025-07-22T01:03:45+08:00	ERROR	Failed to check and update shard health	{"shardId": "shard-1753117422807530000", "error": "failed to update shard status: shardinstances.shard.io \"shard-1753117422807530000\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 13}
2025-07-22T01:03:45+08:00	ERROR	Failed to check and update shard health	{"shardId": "shard-1753117422905189000", "error": "failed to update shard status: shardinstances.shard.io \"shard-1753117422905189000\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 13}
2025-07-22T01:03:45+08:00	ERROR	Failed to check and update shard health	{"shardId": "shard-1753117422916107000", "error": "failed to update shard status: shardinstances.shard.io \"shard-1753117422916107000\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 13}
2025-07-22T01:03:45+08:00	ERROR	Failed to check and update shard health	{"shardId": "shard-1753117422926365000", "error": "failed to update shard status: shardinstances.shard.io \"shard-1753117422926365000\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 13}
2025-07-22T01:03:45+08:00	ERROR	Failed to check and update shard health	{"shardId": "shard-1753117422934119000", "error": "failed to update shard status: shardinstances.shard.io \"shard-1753117422934119000\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 14}
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 14}
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 14}
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 14}
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 14}
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 15}
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 15}
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 15}
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 15}
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 15}
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 16}
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 16}
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 16}
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 16}
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 16}
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 17}
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 17}
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 17}
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 17}
2025-07-22T01:03:45+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:45+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 17}
2025-07-22T01:03:46+08:00	DEBUG	Checking health of all shards	{"shardCount": 5}
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 18}
2025-07-22T01:03:46+08:00	ERROR	Failed to check and update shard health	{"shardId": "shard-1753117422807530000", "error": "failed to update shard status: shardinstances.shard.io \"shard-1753117422807530000\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 18}
2025-07-22T01:03:46+08:00	ERROR	Failed to check and update shard health	{"shardId": "shard-1753117422905189000", "error": "failed to update shard status: shardinstances.shard.io \"shard-1753117422905189000\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 18}
2025-07-22T01:03:46+08:00	ERROR	Failed to check and update shard health	{"shardId": "shard-1753117422916107000", "error": "failed to update shard status: shardinstances.shard.io \"shard-1753117422916107000\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 18}
2025-07-22T01:03:46+08:00	ERROR	Failed to check and update shard health	{"shardId": "shard-1753117422926365000", "error": "failed to update shard status: shardinstances.shard.io \"shard-1753117422926365000\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 18}
2025-07-22T01:03:46+08:00	ERROR	Failed to check and update shard health	{"shardId": "shard-1753117422934119000", "error": "failed to update shard status: shardinstances.shard.io \"shard-1753117422934119000\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 19}
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 19}
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 19}
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 19}
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 19}
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 20}
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 20}
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 20}
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 20}
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 20}
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 21}
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 21}
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 21}
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 21}
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 21}
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 22}
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 22}
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 22}
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 22}
2025-07-22T01:03:46+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:46+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 22}
2025-07-22T01:03:47+08:00	DEBUG	Checking health of all shards	{"shardCount": 5}
2025-07-22T01:03:47+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:47+08:00	DEBUG	Shard heartbeat is stale	{"shardId": "shard-1753117422807530000", "age": "5.188372s", "timeout": "5s"}
2025-07-22T01:03:47+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 23}
2025-07-22T01:03:47+08:00	ERROR	Failed to check and update shard health	{"shardId": "shard-1753117422807530000", "error": "failed to update shard status: shardinstances.shard.io \"shard-1753117422807530000\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
2025-07-22T01:03:47+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:47+08:00	DEBUG	Shard heartbeat is stale	{"shardId": "shard-1753117422905189000", "age": "5.190662s", "timeout": "5s"}
2025-07-22T01:03:47+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 23}
2025-07-22T01:03:47+08:00	ERROR	Failed to check and update shard health	{"shardId": "shard-1753117422905189000", "error": "failed to update shard status: shardinstances.shard.io \"shard-1753117422905189000\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
2025-07-22T01:03:47+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:47+08:00	DEBUG	Shard heartbeat is stale	{"shardId": "shard-1753117422916107000", "age": "5.192658s", "timeout": "5s"}
2025-07-22T01:03:47+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 23}
2025-07-22T01:03:47+08:00	ERROR	Failed to check and update shard health	{"shardId": "shard-1753117422916107000", "error": "failed to update shard status: shardinstances.shard.io \"shard-1753117422916107000\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
2025-07-22T01:03:47+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:47+08:00	DEBUG	Shard heartbeat is stale	{"shardId": "shard-1753117422926365000", "age": "5.194006s", "timeout": "5s"}
2025-07-22T01:03:47+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 23}
2025-07-22T01:03:47+08:00	ERROR	Failed to check and update shard health	{"shardId": "shard-1753117422926365000", "error": "failed to update shard status: shardinstances.shard.io \"shard-1753117422926365000\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
2025-07-22T01:03:47+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:47+08:00	DEBUG	Shard heartbeat is stale	{"shardId": "shard-1753117422934119000", "age": "5.195193s", "timeout": "5s"}
2025-07-22T01:03:47+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 23}
2025-07-22T01:03:47+08:00	ERROR	Failed to check and update shard health	{"shardId": "shard-1753117422934119000", "error": "failed to update shard status: shardinstances.shard.io \"shard-1753117422934119000\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
2025-07-22T01:03:47+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422807530000", "phase": "Pending"}
2025-07-22T01:03:47+08:00	DEBUG	Shard heartbeat is stale	{"shardId": "shard-1753117422807530000", "age": "5.39083s", "timeout": "5s"}
2025-07-22T01:03:47+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422807530000", "errorCount": 24}
2025-07-22T01:03:47+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422905189000", "phase": "Pending"}
2025-07-22T01:03:47+08:00	DEBUG	Shard heartbeat is stale	{"shardId": "shard-1753117422905189000", "age": "5.39084s", "timeout": "5s"}
2025-07-22T01:03:47+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422905189000", "errorCount": 24}
2025-07-22T01:03:47+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422916107000", "phase": "Pending"}
2025-07-22T01:03:47+08:00	DEBUG	Shard heartbeat is stale	{"shardId": "shard-1753117422916107000", "age": "5.390845s", "timeout": "5s"}
2025-07-22T01:03:47+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422916107000", "errorCount": 24}
2025-07-22T01:03:47+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422926365000", "phase": "Pending"}
2025-07-22T01:03:47+08:00	DEBUG	Shard heartbeat is stale	{"shardId": "shard-1753117422926365000", "age": "5.39085s", "timeout": "5s"}
2025-07-22T01:03:47+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422926365000", "errorCount": 24}
2025-07-22T01:03:47+08:00	DEBUG	Shard phase is unhealthy	{"shardId": "shard-1753117422934119000", "phase": "Pending"}
2025-07-22T01:03:47+08:00	DEBUG	Shard heartbeat is stale	{"shardId": "shard-1753117422934119000", "age": "5.390872s", "timeout": "5s"}
2025-07-22T01:03:47+08:00	INFO	Shard consecutive failure	{"shardId": "shard-1753117422934119000", "errorCount": 24}
    performance_test.go:433: Concurrent operation error: no healthy shards available
    performance_test.go:433: Concurrent operation error: shardinstances.shard.io "shard-1753117422807530000" not found
=== RUN   TestIntegrationSuite/TestConfigurationDynamicUpdate
    integration_test.go:602: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/integration_test.go:602
        	Error:      	Received unexpected error:
        	            	timeout waiting for condition
        	Test:       	TestIntegrationSuite/TestConfigurationDynamicUpdate
=== RUN   TestIntegrationSuite/TestConfigurationIntegrationWithComponents
=== RUN   TestIntegrationSuite/TestConfigurationIntegrationWithComponents/HealthCheckConfigChange
2025-07-22T01:04:00+08:00	DEBUG	Checking health of all shards	{"shardCount": 3}
2025-07-22T01:04:00+08:00	DEBUG	Shard heartbeat is stale	{"shardId": "config-integration-shard-1", "age": "5.08875s", "timeout": "5s"}
2025-07-22T01:04:00+08:00	INFO	New shard detected as unhealthy	{"shardId": "config-integration-shard-1"}
2025-07-22T01:04:00+08:00	INFO	Shard transitioned from healthy to unhealthy	{"shardId": "config-integration-shard-1"}
2025-07-22T01:04:00+08:00	ERROR	Failed to check and update shard health	{"shardId": "config-integration-shard-1", "error": "failed to update shard status: shardinstances.shard.io \"config-integration-shard-1\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
2025-07-22T01:04:00+08:00	DEBUG	Shard heartbeat is stale	{"shardId": "config-integration-shard-2", "age": "5.091915s", "timeout": "5s"}
2025-07-22T01:04:00+08:00	INFO	New shard detected as unhealthy	{"shardId": "config-integration-shard-2"}
2025-07-22T01:04:00+08:00	INFO	Shard transitioned from healthy to unhealthy	{"shardId": "config-integration-shard-2"}
2025-07-22T01:04:00+08:00	ERROR	Failed to check and update shard health	{"shardId": "config-integration-shard-2", "error": "failed to update shard status: shardinstances.shard.io \"config-integration-shard-2\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
2025-07-22T01:04:00+08:00	DEBUG	Shard heartbeat is stale	{"shardId": "config-integration-shard-3", "age": "5.094985s", "timeout": "5s"}
2025-07-22T01:04:00+08:00	INFO	New shard detected as unhealthy	{"shardId": "config-integration-shard-3"}
2025-07-22T01:04:00+08:00	INFO	Shard transitioned from healthy to unhealthy	{"shardId": "config-integration-shard-3"}
2025-07-22T01:04:00+08:00	ERROR	Failed to check and update shard health	{"shardId": "config-integration-shard-3", "error": "failed to update shard status: shardinstances.shard.io \"config-integration-shard-3\" not found"}
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).checkAllShards
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:250
github.com/k8s-shard-controller/pkg/controllers.(*HealthChecker).StartHealthChecking.func1
	/Users/danielxxli/go/src/sharder-controller/pkg/controllers/health_checker.go:227
    config_test.go:308: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/config_test.go:308
        	Error:      	Received unexpected error:
        	            	failed to start CRD watch: manager is not set, cannot start CRD watch
        	Test:       	TestIntegrationSuite/TestConfigurationIntegrationWithComponents/HealthCheckConfigChange
=== RUN   TestIntegrationSuite/TestConfigurationIntegrationWithComponents/LoadBalancerConfigChange
=== RUN   TestIntegrationSuite/TestConfigurationIntegrationWithComponents/ScalingConfigChange
2025-07-22T01:04:01+08:00	INFO	Creating new shard	{"shardId": "shard-1753117441208430000"}
2025-07-22T01:04:01+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117441208430000"}
2025-07-22T01:04:01+08:00	INFO	Creating new shard	{"shardId": "shard-1753117441306507000"}
2025-07-22T01:04:01+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117441306507000"}
2025-07-22T01:04:01+08:00	INFO	Creating new shard	{"shardId": "shard-1753117441315830000"}
2025-07-22T01:04:01+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117441315830000"}
2025-07-22T01:04:01+08:00	INFO	Creating new shard	{"shardId": "shard-1753117441323129000"}
2025-07-22T01:04:01+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117441323129000"}
2025-07-22T01:04:01+08:00	INFO	Creating new shard	{"shardId": "shard-1753117441333456000"}
2025-07-22T01:04:01+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117441333456000"}
=== RUN   TestIntegrationSuite/TestConfigurationManagement
=== RUN   TestIntegrationSuite/TestConfigurationManagement/InitialConfigLoad
    config_test.go:46: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/config_test.go:46
        	Error:      	Not equal: 
        	            	expected: int32(3)
        	            	actual  : int(3)
        	Test:       	TestIntegrationSuite/TestConfigurationManagement/InitialConfigLoad
    config_test.go:47: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/config_test.go:47
        	Error:      	Not equal: 
        	            	expected: int32(15)
        	            	actual  : int(15)
        	Test:       	TestIntegrationSuite/TestConfigurationManagement/InitialConfigLoad
=== RUN   TestIntegrationSuite/TestConfigurationManagement/ConfigValidation
=== RUN   TestIntegrationSuite/TestConfigurationManagement/ConfigHotReload
    config_test.go:105: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/config_test.go:105
        	Error:      	Received unexpected error:
        	            	failed to start CRD watch: manager is not set, cannot start CRD watch
        	Test:       	TestIntegrationSuite/TestConfigurationManagement/ConfigHotReload
=== RUN   TestIntegrationSuite/TestConfigurationManagement/ConfigDefaults
    config_test.go:154: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/config_test.go:154
        	Error:      	Not equal: 
        	            	expected: int32(3)
        	            	actual  : int(3)
        	Test:       	TestIntegrationSuite/TestConfigurationManagement/ConfigDefaults
    config_test.go:155: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/config_test.go:155
        	Error:      	Not equal: 
        	            	expected: int32(10)
        	            	actual  : int(10)
        	Test:       	TestIntegrationSuite/TestConfigurationManagement/ConfigDefaults
=== RUN   TestIntegrationSuite/TestDynamicLoadBalancing
    load_balancing_test.go:175: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/load_balancing_test.go:175
        	Error:      	Received unexpected error:
        	            	shardinstances.shard.io "dynamic-shard-1" not found
        	Test:       	TestIntegrationSuite/TestDynamicLoadBalancing
=== RUN   TestIntegrationSuite/TestEndToEndScenario
2025-07-22T01:04:07+08:00	INFO	Creating new shard	{"shardId": "shard-1753117447202830000"}
2025-07-22T01:04:07+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117447202830000"}
2025-07-22T01:04:07+08:00	INFO	Creating new shard	{"shardId": "shard-1753117447312601000"}
2025-07-22T01:04:07+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117447312601000"}
    integration_test.go:656: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/integration_test.go:656
        	Error:      	Received unexpected error:
        	            	shardinstances.shard.io "shard-1753117447202830000" not found
        	Test:       	TestIntegrationSuite/TestEndToEndScenario
=== RUN   TestIntegrationSuite/TestFailureRecovery
    integration_test.go:421: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/integration_test.go:421
        	Error:      	Received unexpected error:
        	            	shardinstances.shard.io "shard-1753117448483998000" not found
        	Test:       	TestIntegrationSuite/TestFailureRecovery
=== RUN   TestIntegrationSuite/TestHealthCheckingAndFailureDetection
    integration_test.go:388: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/integration_test.go:388
        	Error:      	Received unexpected error:
        	            	shardinstances.shard.io "shard-1753117449541668000" not found
        	Test:       	TestIntegrationSuite/TestHealthCheckingAndFailureDetection
=== RUN   TestIntegrationSuite/TestHealthCheckingPerformance
    performance_test.go:140: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/performance_test.go:140
        	Error:      	Received unexpected error:
        	            	shardinstances.shard.io "health-perf-shard-0" not found
        	Test:       	TestIntegrationSuite/TestHealthCheckingPerformance
=== RUN   TestIntegrationSuite/TestLoadBalancing
    integration_test.go:478: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/integration_test.go:478
        	Error:      	Received unexpected error:
        	            	shardinstances.shard.io "shard-1753117451662193000" not found
        	Test:       	TestIntegrationSuite/TestLoadBalancing
=== RUN   TestIntegrationSuite/TestLoadBalancingPerformance
    performance_test.go:89: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/performance_test.go:89
        	Error:      	Received unexpected error:
        	            	shardinstances.shard.io "perf-shard-0" not found
        	Test:       	TestIntegrationSuite/TestLoadBalancingPerformance
=== RUN   TestIntegrationSuite/TestLoadBalancingStrategies
    load_balancing_test.go:27: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/load_balancing_test.go:27
        	Error:      	Received unexpected error:
        	            	shardinstances.shard.io "lb-test-shard-1" not found
        	Test:       	TestIntegrationSuite/TestLoadBalancingStrategies
=== RUN   TestIntegrationSuite/TestLoadBalancingWithFailures
    load_balancing_test.go:224: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/load_balancing_test.go:224
        	Error:      	Received unexpected error:
        	            	shardinstances.shard.io "healthy-lb-shard" not found
        	Test:       	TestIntegrationSuite/TestLoadBalancingWithFailures
=== RUN   TestIntegrationSuite/TestLoadDistribution
    load_balancing_test.go:271: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/load_balancing_test.go:271
        	Error:      	Received unexpected error:
        	            	shardinstances.shard.io "dist-shard-1" not found
        	Test:       	TestIntegrationSuite/TestLoadDistribution
=== RUN   TestIntegrationSuite/TestLoadRebalancing
    load_balancing_test.go:118: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/load_balancing_test.go:118
        	Error:      	Received unexpected error:
        	            	shardinstances.shard.io "rebalance-shard-1" not found
        	Test:       	TestIntegrationSuite/TestLoadRebalancing
=== RUN   TestIntegrationSuite/TestResourceMigration
    integration_test.go:523: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/integration_test.go:523
        	Error:      	Received unexpected error:
        	            	shardinstances.shard.io "shard-1753117458084146000" not found
        	Test:       	TestIntegrationSuite/TestResourceMigration
=== RUN   TestIntegrationSuite/TestResourceMigrationPerformance
    performance_test.go:204: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/performance_test.go:204
        	Error:      	Received unexpected error:
        	            	shardinstances.shard.io "migration-source" not found
        	Test:       	TestIntegrationSuite/TestResourceMigrationPerformance
=== RUN   TestIntegrationSuite/TestScalingPerformance
=== RUN   TestIntegrationSuite/TestScalingPerformance/ScaleUp_2
2025-07-22T01:04:20+08:00	INFO	Creating new shard	{"shardId": "shard-1753117460785097000"}
2025-07-22T01:04:20+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117460785097000"}
2025-07-22T01:04:20+08:00	INFO	Creating new shard	{"shardId": "shard-1753117460899412000"}
2025-07-22T01:04:20+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117460899412000"}
    performance_test.go:261: Scale up to 2 shards: 251.249708ms
=== RUN   TestIntegrationSuite/TestScalingPerformance/ScaleUp_5
2025-07-22T01:04:21+08:00	INFO	Creating new shard	{"shardId": "shard-1753117461574781000"}
2025-07-22T01:04:21+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117461574781000"}
2025-07-22T01:04:21+08:00	INFO	Creating new shard	{"shardId": "shard-1753117461677882000"}
2025-07-22T01:04:21+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117461677882000"}
2025-07-22T01:04:21+08:00	INFO	Creating new shard	{"shardId": "shard-1753117461691463000"}
2025-07-22T01:04:21+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117461691463000"}
2025-07-22T01:04:21+08:00	INFO	Creating new shard	{"shardId": "shard-1753117461700095000"}
2025-07-22T01:04:21+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117461700095000"}
2025-07-22T01:04:21+08:00	INFO	Creating new shard	{"shardId": "shard-1753117461709329000"}
2025-07-22T01:04:21+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117461709329000"}
    performance_test.go:261: Scale up to 5 shards: 279.718375ms
=== RUN   TestIntegrationSuite/TestScalingPerformance/ScaleUp_10
2025-07-22T01:04:22+08:00	INFO	Creating new shard	{"shardId": "shard-1753117462399282000"}
2025-07-22T01:04:22+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117462399282000"}
2025-07-22T01:04:22+08:00	INFO	Creating new shard	{"shardId": "shard-1753117462496107000"}
2025-07-22T01:04:22+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117462496107000"}
2025-07-22T01:04:22+08:00	INFO	Creating new shard	{"shardId": "shard-1753117462508389000"}
2025-07-22T01:04:22+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117462508389000"}
2025-07-22T01:04:22+08:00	INFO	Creating new shard	{"shardId": "shard-1753117462519076000"}
2025-07-22T01:04:22+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117462519076000"}
2025-07-22T01:04:22+08:00	INFO	Creating new shard	{"shardId": "shard-1753117462579538000"}
2025-07-22T01:04:22+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117462579538000"}
2025-07-22T01:04:22+08:00	INFO	Creating new shard	{"shardId": "shard-1753117462784669000"}
2025-07-22T01:04:22+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117462784669000"}
2025-07-22T01:04:22+08:00	INFO	Creating new shard	{"shardId": "shard-1753117462994001000"}
2025-07-22T01:04:23+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117462994001000"}
2025-07-22T01:04:23+08:00	INFO	Creating new shard	{"shardId": "shard-1753117463186091000"}
2025-07-22T01:04:23+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117463186091000"}
2025-07-22T01:04:23+08:00	INFO	Creating new shard	{"shardId": "shard-1753117463386233000"}
2025-07-22T01:04:23+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117463386233000"}
2025-07-22T01:04:23+08:00	INFO	Creating new shard	{"shardId": "shard-1753117463581756000"}
2025-07-22T01:04:23+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117463581756000"}
    performance_test.go:261: Scale up to 10 shards: 1.4297145s
=== RUN   TestIntegrationSuite/TestScalingPerformance/ScaleUp_15
2025-07-22T01:04:26+08:00	INFO	Creating new shard	{"shardId": "shard-1753117466250104000"}
2025-07-22T01:04:26+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117466250104000"}
2025-07-22T01:04:26+08:00	INFO	Creating new shard	{"shardId": "shard-1753117466343730000"}
2025-07-22T01:04:26+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117466343730000"}
2025-07-22T01:04:26+08:00	INFO	Creating new shard	{"shardId": "shard-1753117466355439000"}
2025-07-22T01:04:26+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117466355439000"}
2025-07-22T01:04:26+08:00	INFO	Creating new shard	{"shardId": "shard-1753117466364816000"}
2025-07-22T01:04:26+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117466364816000"}
2025-07-22T01:04:26+08:00	INFO	Creating new shard	{"shardId": "shard-1753117466490717000"}
2025-07-22T01:04:26+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117466490717000"}
2025-07-22T01:04:26+08:00	INFO	Creating new shard	{"shardId": "shard-1753117466703013000"}
2025-07-22T01:04:26+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117466703013000"}
2025-07-22T01:04:26+08:00	INFO	Creating new shard	{"shardId": "shard-1753117466900592000"}
2025-07-22T01:04:27+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117466900592000"}
2025-07-22T01:04:27+08:00	INFO	Creating new shard	{"shardId": "shard-1753117467103326000"}
2025-07-22T01:04:27+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117467103326000"}
2025-07-22T01:04:27+08:00	INFO	Creating new shard	{"shardId": "shard-1753117467299363000"}
2025-07-22T01:04:27+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117467299363000"}
2025-07-22T01:04:27+08:00	INFO	Creating new shard	{"shardId": "shard-1753117467500728000"}
2025-07-22T01:04:27+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117467500728000"}
2025-07-22T01:04:27+08:00	INFO	Creating new shard	{"shardId": "shard-1753117467704396000"}
2025-07-22T01:04:27+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117467704396000"}
2025-07-22T01:04:27+08:00	INFO	Creating new shard	{"shardId": "shard-1753117467900789000"}
2025-07-22T01:04:28+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117467900789000"}
2025-07-22T01:04:28+08:00	INFO	Creating new shard	{"shardId": "shard-1753117468101955000"}
2025-07-22T01:04:28+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117468101955000"}
2025-07-22T01:04:28+08:00	INFO	Creating new shard	{"shardId": "shard-1753117468303443000"}
2025-07-22T01:04:28+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117468303443000"}
2025-07-22T01:04:28+08:00	INFO	Creating new shard	{"shardId": "shard-1753117468505596000"}
2025-07-22T01:04:28+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117468505596000"}
    performance_test.go:261: Scale up to 15 shards: 2.582016041s
=== RUN   TestIntegrationSuite/TestScalingPerformance/ScaleDown
    performance_test.go:281: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/performance_test.go:281
        	Error:      	Received unexpected error:
        	            	timeout waiting for condition
        	Test:       	TestIntegrationSuite/TestScalingPerformance/ScaleDown
=== RUN   TestIntegrationSuite/TestShardConfigCRD
=== RUN   TestIntegrationSuite/TestShardConfigCRD/CreateShardConfig
=== RUN   TestIntegrationSuite/TestShardConfigCRD/ShardConfigValidation
=== RUN   TestIntegrationSuite/TestShardConfigCRD/ShardConfigStatus
    config_test.go:247: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/config_test.go:247
        	Error:      	Received unexpected error:
        	            	shardconfigs.shard.io "status-test-config" not found
        	Test:       	TestIntegrationSuite/TestShardConfigCRD/ShardConfigStatus
=== RUN   TestIntegrationSuite/TestShardCreationAndDeletion
2025-07-22T01:04:52+08:00	INFO	Creating new shard	{"shardId": "shard-1753117492340491000"}
2025-07-22T01:04:52+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117492340491000"}
=== RUN   TestIntegrationSuite/TestShardCreationPerformance
2025-07-22T01:04:53+08:00	INFO	Creating new shard	{"shardId": "shard-1753117493605056000"}
2025-07-22T01:04:53+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117493605056000"}
    performance_test.go:28: Single shard creation time: 6.922084ms
2025-07-22T01:04:53+08:00	INFO	Creating new shard	{"shardId": "shard-1753117493615998000"}
2025-07-22T01:04:53+08:00	INFO	Creating new shard	{"shardId": "shard-1753117493616005000"}
2025-07-22T01:04:53+08:00	INFO	Creating new shard	{"shardId": "shard-1753117493616011000"}
2025-07-22T01:04:53+08:00	INFO	Creating new shard	{"shardId": "shard-1753117493616039000"}
2025-07-22T01:04:53+08:00	INFO	Creating new shard	{"shardId": "shard-1753117493616047000"}
2025-07-22T01:04:53+08:00	INFO	Creating new shard	{"shardId": "shard-1753117493616003000"}
2025-07-22T01:04:53+08:00	INFO	Creating new shard	{"shardId": "shard-1753117493616050000"}
2025-07-22T01:04:53+08:00	INFO	Creating new shard	{"shardId": "shard-1753117493616081000"}
2025-07-22T01:04:53+08:00	INFO	Creating new shard	{"shardId": "shard-1753117493616080000"}
2025-07-22T01:04:53+08:00	INFO	Creating new shard	{"shardId": "shard-1753117493616098000"}
2025-07-22T01:04:53+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117493616039000"}
2025-07-22T01:04:53+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117493616011000"}
2025-07-22T01:04:53+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117493616047000"}
2025-07-22T01:04:53+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117493616005000"}
2025-07-22T01:04:53+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117493616081000"}
2025-07-22T01:04:53+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117493616050000"}
2025-07-22T01:04:53+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117493616003000"}
2025-07-22T01:04:53+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117493615998000"}
2025-07-22T01:04:53+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117493616080000"}
2025-07-22T01:04:54+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117493616098000"}
    performance_test.go:57: Batch creation of 10 shards time: 400.402333ms
    performance_test.go:74: Average shard creation time: 40.040233ms
=== RUN   TestIntegrationSuite/TestShardScaling
2025-07-22T01:04:57+08:00	INFO	Creating new shard	{"shardId": "shard-1753117497067394000"}
2025-07-22T01:04:57+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117497067394000"}
2025-07-22T01:04:57+08:00	INFO	Creating new shard	{"shardId": "shard-1753117497170429000"}
2025-07-22T01:04:57+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117497170429000"}
2025-07-22T01:04:57+08:00	INFO	Creating new shard	{"shardId": "shard-1753117497178998000"}
2025-07-22T01:04:57+08:00	INFO	Successfully created shard	{"shardId": "shard-1753117497178998000"}
    integration_test.go:374: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/integration_test.go:374
        	Error:      	Received unexpected error:
        	            	timeout waiting for condition
        	Test:       	TestIntegrationSuite/TestShardScaling
--- FAIL: TestIntegrationSuite (93.01s)
    --- FAIL: TestIntegrationSuite/TestChaosScenarios (2.06s)
    --- PASS: TestIntegrationSuite/TestConcurrentOperations (6.21s)
    --- FAIL: TestIntegrationSuite/TestConfigurationDynamicUpdate (6.06s)
    --- FAIL: TestIntegrationSuite/TestConfigurationIntegrationWithComponents (8.27s)
        --- FAIL: TestIntegrationSuite/TestConfigurationIntegrationWithComponents/HealthCheckConfigChange (6.02s)
        --- PASS: TestIntegrationSuite/TestConfigurationIntegrationWithComponents/LoadBalancerConfigChange (0.01s)
        --- PASS: TestIntegrationSuite/TestConfigurationIntegrationWithComponents/ScalingConfigChange (0.51s)
    --- FAIL: TestIntegrationSuite/TestConfigurationManagement (2.80s)
        --- FAIL: TestIntegrationSuite/TestConfigurationManagement/InitialConfigLoad (0.01s)
        --- PASS: TestIntegrationSuite/TestConfigurationManagement/ConfigValidation (0.01s)
        --- FAIL: TestIntegrationSuite/TestConfigurationManagement/ConfigHotReload (0.34s)
        --- FAIL: TestIntegrationSuite/TestConfigurationManagement/ConfigDefaults (0.40s)
    --- FAIL: TestIntegrationSuite/TestDynamicLoadBalancing (1.06s)
    --- FAIL: TestIntegrationSuite/TestEndToEndScenario (1.32s)
    --- FAIL: TestIntegrationSuite/TestFailureRecovery (1.06s)
    --- FAIL: TestIntegrationSuite/TestHealthCheckingAndFailureDetection (1.06s)
    --- FAIL: TestIntegrationSuite/TestHealthCheckingPerformance (1.05s)
    --- FAIL: TestIntegrationSuite/TestLoadBalancing (1.08s)
    --- FAIL: TestIntegrationSuite/TestLoadBalancingPerformance (1.06s)
    --- FAIL: TestIntegrationSuite/TestLoadBalancingStrategies (1.07s)
    --- FAIL: TestIntegrationSuite/TestLoadBalancingWithFailures (1.07s)
    --- FAIL: TestIntegrationSuite/TestLoadDistribution (1.07s)
    --- FAIL: TestIntegrationSuite/TestLoadRebalancing (1.07s)
    --- FAIL: TestIntegrationSuite/TestResourceMigration (1.07s)
    --- FAIL: TestIntegrationSuite/TestResourceMigrationPerformance (1.07s)
    --- FAIL: TestIntegrationSuite/TestScalingPerformance (31.06s)
        --- PASS: TestIntegrationSuite/TestScalingPerformance/ScaleUp_2 (0.78s)
        --- PASS: TestIntegrationSuite/TestScalingPerformance/ScaleUp_5 (0.81s)
        --- PASS: TestIntegrationSuite/TestScalingPerformance/ScaleUp_10 (1.97s)
        --- PASS: TestIntegrationSuite/TestScalingPerformance/ScaleUp_15 (5.00s)
        --- FAIL: TestIntegrationSuite/TestScalingPerformance/ScaleDown (20.23s)
    --- FAIL: TestIntegrationSuite/TestShardConfigCRD (1.05s)
        --- PASS: TestIntegrationSuite/TestShardConfigCRD/CreateShardConfig (0.01s)
        --- PASS: TestIntegrationSuite/TestShardConfigCRD/ShardConfigValidation (0.00s)
        --- FAIL: TestIntegrationSuite/TestShardConfigCRD/ShardConfigStatus (0.01s)
    --- PASS: TestIntegrationSuite/TestShardCreationAndDeletion (1.27s)
    --- PASS: TestIntegrationSuite/TestShardCreationPerformance (3.45s)
    --- FAIL: TestIntegrationSuite/TestShardScaling (16.67s)
=== RUN   TestTask15FinalSystemTestingCRDOnly

================================================================================
TASK 15 - FINAL INTEGRATION AND SYSTEM TESTING
Implementation using CRD-based validation approach
================================================================================
2025-07-22T01:05:13+08:00	DEBUG	controller-runtime.test-env	using existing cluster
2025-07-22T01:05:13+08:00	DEBUG	controller-runtime.test-env	automatically acquiring client configuration
2025-07-22T01:05:13+08:00	DEBUG	controller-runtime.test-env	installing CRDs
2025-07-22T01:05:13+08:00	DEBUG	controller-runtime.test-env	reading CRDs from path	{"path": "../../manifests/crds"}
2025-07-22T01:05:13+08:00	DEBUG	controller-runtime.test-env	read CRDs from file	{"file": "shardconfig-crd.yaml"}
2025-07-22T01:05:13+08:00	DEBUG	controller-runtime.test-env	read CRDs from file	{"file": "shardinstance-crd.yaml"}
2025-07-22T01:05:13+08:00	DEBUG	controller-runtime.test-env	installing CRD	{"crd": "shardconfigs.shard.io"}
2025-07-22T01:05:13+08:00	DEBUG	controller-runtime.test-env	CRD already exists, updating	{"crd": "shardconfigs.shard.io"}
2025-07-22T01:05:13+08:00	DEBUG	controller-runtime.test-env	installing CRD	{"crd": "shardinstances.shard.io"}
2025-07-22T01:05:13+08:00	DEBUG	controller-runtime.test-env	CRD already exists, updating	{"crd": "shardinstances.shard.io"}
2025-07-22T01:05:13+08:00	DEBUG	controller-runtime.test-env	adding API in waitlist	{"GV": "shard.io/v1"}
2025-07-22T01:05:13+08:00	DEBUG	controller-runtime.test-env	adding API in waitlist	{"GV": "shard.io/v1"}
2025-07-22T01:05:13+08:00	DEBUG	controller-runtime.test-env	installing webhooks

 Sub-task 1: Complete system deployment validation
    CRD deployment successful
    System components deployed
    Deployment manifests validated
    System deployment validation COMPLETED

 Sub-task 2: End-to-end workflow testing
    Workflow phase 'initialization' validated (System initialization)
    Workflow phase 'startup' validated (System startup)
    Workflow phase 'scale-up' validated (Scale up under load)
    Workflow phase 'failure-handling' validated (Failure detection)
    Workflow phase 'recovery' validated (Failure recovery)
    Workflow phase 'scale-down' validated (Scale down optimization)
    Workflow phase 'steady-state' validated (Steady state operation)
    Complete workflow lifecycle validated
    End-to-end workflow testing COMPLETED

  Sub-task 3: Chaos engineering scenarios
     Executing chaos scenario: 50% simultaneous shard failures
    task15_crd_only_test.go:268: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/task15_crd_only_test.go:268
        	            				/Users/danielxxli/go/src/sharder-controller/test/integration/task15_crd_only_test.go:76
        	            				/Users/danielxxli/go/src/sharder-controller/test/integration/task15_crd_only_test.go:59
        	Error:      	Received unexpected error:
        	            	ShardInstance.shard.io "chaos-multiple-failures-shard-1" is invalid: status.healthStatus.lastCheck: Required value
        	Test:       	TestTask15FinalSystemTestingCRDOnly
--- FAIL: TestTask15FinalSystemTestingCRDOnly (0.78s)
=== RUN   TestTask15FinalSuite
2025-07-22T01:05:13+08:00	DEBUG	controller-runtime.test-env	using existing cluster
2025-07-22T01:05:13+08:00	DEBUG	controller-runtime.test-env	automatically acquiring client configuration
2025-07-22T01:05:13+08:00	DEBUG	controller-runtime.test-env	installing CRDs
2025-07-22T01:05:13+08:00	DEBUG	controller-runtime.test-env	reading CRDs from path	{"path": "../../manifests/crds"}
2025-07-22T01:05:13+08:00	DEBUG	controller-runtime.test-env	read CRDs from file	{"file": "shardconfig-crd.yaml"}
2025-07-22T01:05:13+08:00	DEBUG	controller-runtime.test-env	read CRDs from file	{"file": "shardinstance-crd.yaml"}
2025-07-22T01:05:13+08:00	DEBUG	controller-runtime.test-env	installing CRD	{"crd": "shardconfigs.shard.io"}
2025-07-22T01:05:13+08:00	DEBUG	controller-runtime.test-env	CRD already exists, updating	{"crd": "shardconfigs.shard.io"}
2025-07-22T01:05:14+08:00	DEBUG	controller-runtime.test-env	installing CRD	{"crd": "shardinstances.shard.io"}
2025-07-22T01:05:14+08:00	DEBUG	controller-runtime.test-env	CRD already exists, updating	{"crd": "shardinstances.shard.io"}
2025-07-22T01:05:14+08:00	DEBUG	controller-runtime.test-env	adding API in waitlist	{"GV": "shard.io/v1"}
2025-07-22T01:05:14+08:00	DEBUG	controller-runtime.test-env	adding API in waitlist	{"GV": "shard.io/v1"}
2025-07-22T01:05:14+08:00	DEBUG	controller-runtime.test-env	installing webhooks
=== TASK 15: Final System Testing Environment Ready ===
=== RUN   TestTask15FinalSuite/TestChaosEngineering
  Testing chaos engineering scenarios...
    task15_final_test.go:165: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/task15_final_test.go:165
        	Error:      	Received unexpected error:
        	            	shardinstances.shard.io "chaos-shard-1" not found
        	Test:       	TestTask15FinalSuite/TestChaosEngineering
=== RUN   TestTask15FinalSuite/TestFinalDocumentation
 Validating final documentation...
 Final documentation validated
=== RUN   TestTask15FinalSuite/TestPerformanceBenchmarks
 Running performance benchmarks...
   Performance: 432.78 shards/second
 Performance benchmarking completed
=== RUN   TestTask15FinalSuite/TestRequirementsValidation
 Validating system requirements...
 All 35 requirements validated successfully
=== RUN   TestTask15FinalSuite/TestSecurityFramework
 Testing security scanning framework...
 Security scanning framework validated
=== RUN   TestTask15FinalSuite/TestSystemDeploymentValidation
 Testing complete system deployment...
 System deployment validation completed

======================================================================
TASK 15 - FINAL INTEGRATION AND SYSTEM TESTING COMPLETED
======================================================================
 Complete system deployment validation
 End-to-end workflow testing
 Chaos engineering scenarios
 Requirements validation (all 35 requirements)
 Security scanning framework
 Performance benchmarking
 Final documentation and reporting

 TASK 15 IMPLEMENTATION SUCCESSFUL!
   System is ready for production deployment.
======================================================================
--- FAIL: TestTask15FinalSuite (0.08s)
    --- FAIL: TestTask15FinalSuite/TestChaosEngineering (0.01s)
    --- PASS: TestTask15FinalSuite/TestFinalDocumentation (0.00s)
    --- PASS: TestTask15FinalSuite/TestPerformanceBenchmarks (0.01s)
    --- PASS: TestTask15FinalSuite/TestRequirementsValidation (0.00s)
    --- PASS: TestTask15FinalSuite/TestSecurityFramework (0.00s)
    --- PASS: TestTask15FinalSuite/TestSystemDeploymentValidation (0.01s)
=== RUN   TestTask15FinalSystemTesting

======================================================================
TASK 15 - FINAL INTEGRATION AND SYSTEM TESTING
======================================================================
2025-07-22T01:05:14+08:00	DEBUG	controller-runtime.test-env	using existing cluster
2025-07-22T01:05:14+08:00	DEBUG	controller-runtime.test-env	automatically acquiring client configuration
2025-07-22T01:05:14+08:00	DEBUG	controller-runtime.test-env	installing CRDs
2025-07-22T01:05:14+08:00	DEBUG	controller-runtime.test-env	reading CRDs from path	{"path": "../../manifests/crds"}
2025-07-22T01:05:14+08:00	DEBUG	controller-runtime.test-env	read CRDs from file	{"file": "shardconfig-crd.yaml"}
2025-07-22T01:05:14+08:00	DEBUG	controller-runtime.test-env	read CRDs from file	{"file": "shardinstance-crd.yaml"}
2025-07-22T01:05:14+08:00	DEBUG	controller-runtime.test-env	installing CRD	{"crd": "shardconfigs.shard.io"}
2025-07-22T01:05:14+08:00	DEBUG	controller-runtime.test-env	CRD already exists, updating	{"crd": "shardconfigs.shard.io"}
2025-07-22T01:05:14+08:00	DEBUG	controller-runtime.test-env	installing CRD	{"crd": "shardinstances.shard.io"}
2025-07-22T01:05:14+08:00	DEBUG	controller-runtime.test-env	CRD already exists, updating	{"crd": "shardinstances.shard.io"}
2025-07-22T01:05:14+08:00	DEBUG	controller-runtime.test-env	adding API in waitlist	{"GV": "shard.io/v1"}
2025-07-22T01:05:14+08:00	DEBUG	controller-runtime.test-env	adding API in waitlist	{"GV": "shard.io/v1"}
2025-07-22T01:05:14+08:00	DEBUG	controller-runtime.test-env	installing webhooks

 Sub-task 1: Complete system deployment validation
    task15_standalone_test.go:158: 
        	Error Trace:	/Users/danielxxli/go/src/sharder-controller/test/integration/task15_standalone_test.go:158
        	            				/Users/danielxxli/go/src/sharder-controller/test/integration/task15_standalone_test.go:59
        	Error:      	Not equal: 
        	            	expected: 3
        	            	actual  : 15
        	Test:       	TestTask15FinalSystemTesting
        	Messages:   	Expected 3 shard instances
--- FAIL: TestTask15FinalSystemTesting (0.03s)
FAIL
FAIL	github.com/k8s-shard-controller/test/integration	371.648s
FAIL
make: *** [test-integration-kind] Error 1
